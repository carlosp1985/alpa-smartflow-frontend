<div ng-controller="ReportesVentasFechasController">

   <div class="row">
      <div class="col s12">
         <h4 class="page-title">Reporte de ventas por fecha</h4>
         <p class="page-subtitle">Consulta las ventas en un rango de fechas.</p>
      </div>
   </div>

   <div class="row">
      <div class="col s12 m3">
         <div class="input-field">
            <input id="fecha_inicio" type="date" ng-model="filtros.fecha_inicio">
            <label class="active" for="fecha_inicio">Fecha inicio</label>
         </div>
      </div>
      <div class="col s12 m3">
         <div class="input-field">
            <input id="fecha_fin" type="date" ng-model="filtros.fecha_fin">
            <label class="active" for="fecha_fin">Fecha fin</label>
         </div>
      </div>
      <div class="col s12 m3" style="margin-top: 25px;">
         <a class="btn waves-effect waves-light blue" ng-click="buscar()">
            Buscar
         </a>
      </div>
   </div>

   <div class="row" ng-if="cargando">
      <div class="col s12">
         <p>Cargando datos...</p>
      </div>
   </div>

   <div class="row" ng-if="!cargando">
      <div class="col s12 m6">
         <ul class="collection with-header">
            <li class="collection-header"><h5>Resumen</h5></li>
            <li class="collection-item">
               <span>Total de ventas</span>
               <span class="secondary-content">{{resumen.total_ventas || 0}}</span>
            </li>
            <li class="collection-item">
               <span>Suma total neto</span>
               <span class="secondary-content">{{ (resumen.suma_total_neto || 0) | currency:'$':0 }}</span>
            </li>
         </ul>
      </div>
   </div>

   <div class="row" ng-if="!cargando">
      <div class="col s12">
         <table class="highlight responsive-table">
            <thead>
               <tr>
                  <th>Fecha</th>
                  <th>Cliente</th>
                  <th>Usuario</th>
                  <th class="right-align">Medio de pago</th>
                  <th class="right-align">Total neto</th>
               </tr>
            </thead>
            <tbody>
               <tr ng-repeat="v in ventas">
                  <td>{{v.fecha | date:'yyyy-MM-dd HH:mm'}}</td>
                  <td>{{v.cliente_nombre || 'Cliente gen√©rico'}}</td>
                  <td>{{v.usuario_nombre}}</td>
                  <td class="right-align">{{v.medio_pago}}</td>
                  <td class="right-align">{{v.total_neto || 0 | currency:'$':0}}</td>
               </tr>
               <tr ng-if="!ventas.length">
                  <td colspan="5" class="center-align grey-text">No se encontraron ventas en el rango seleccionado.</td>
               </tr>
            </tbody>
         </table>
      </div>
   </div>

</div>
